<!DOCTYPE html>
<html>
<head>
    <title>Call Flask API and Save File</title>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>
<body>
    <button id="generateButton">Generate 3D Model</button>

    <script>
        // Function to call the Flask API and save the returned file
        function generate3DModel() {
            const url = 'http://localhost:5000/generate_3d';
            const data = {
                prompt: 'a christmas tree'
            };

            axios.post(url, data, { responseType: 'blob' })
            .then(response => {
                const blob = new Blob([response.data], { type: response.headers['content-type'], headers: { 'Access-Control-Allow-Origin': '*' }});
                const link = document.createElement('a');
                link.href = URL.createObjectURL(blob);
                link.download = 'model.obj';
                link.click();
            })
            .catch(error => {
                console.error('Error:', error);
            });
        }

        // Attach the function to a button click event
        const generateButton = document.getElementById('generateButton');
        generateButton.addEventListener('click', generate3DModel);
    </script>
</body>
</html>
